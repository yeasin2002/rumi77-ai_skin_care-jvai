'use client'

import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu'
import { usePathname, useRouter } from '@/i18n/navigation'
import { localeNames, routing } from '@/i18n/routing'
import { useLocale } from 'next-intl'
import { cn } from '../../lib/utils'

export function LanguageToggle() {
  const locale = useLocale()
  const router = useRouter()
  const pathname = usePathname()

  const handleLocaleChange = (newLocale: string) => {
    router.replace(pathname, { locale: newLocale })
  }

  return (
    <DropdownMenu>
      <DropdownMenuTrigger className="cursor-pointer rounded-full bg-[#2447311A]">
        {/* <Globe className="size-10 p-2" /> */}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="26"
          height="26"
          viewBox="0 0 26 26"
          className="size-7 bg-white"
        >
          <g clipPath="url(#clip0_1327_1944)">
            <path
              d="M2.77187 0.366989C2.96783 0.363726 3.16379 0.360463 3.36569 0.357101C4.26229 0.348079 5.15886 0.339732 6.05549 0.335052C6.52855 0.331687 7.00159 0.326143 7.47459 0.318389C8.15617 0.307272 8.83752 0.302822 9.51918 0.299842C9.83597 0.292935 9.83597 0.292935 10.1592 0.285889C11.6282 0.290186 11.6282 0.290186 12.4188 0.888885C12.8052 1.43342 12.9623 1.78288 13.0636 2.43742C13.0921 2.60499 13.1206 2.77257 13.15 2.94523C13.2036 3.45721 13.2068 3.95431 13.2032 4.46867C13.3277 4.46731 13.4523 4.46596 13.5806 4.46457C14.8789 4.45106 16.1771 4.44188 17.4755 4.43519C17.9598 4.43213 18.444 4.42798 18.9283 4.42269C19.6251 4.41529 20.3219 4.41184 21.0188 4.40916C21.3426 4.40444 21.3426 4.40444 21.6729 4.39963C23.6532 4.39918 23.6532 4.39918 24.5782 5.07804C25.3677 6.03807 25.5077 6.81222 25.4926 8.01939C25.4943 8.27229 25.4943 8.27229 25.4959 8.5303C25.4985 9.08503 25.4951 9.63954 25.4915 10.1943C25.4915 10.5812 25.4918 10.9682 25.4924 11.3552C25.4926 12.1653 25.4901 12.9752 25.4855 13.7852C25.4797 14.8221 25.4803 15.8588 25.4828 16.8957C25.4843 17.6945 25.4827 18.4933 25.4802 19.2921C25.4792 19.6743 25.4792 20.0565 25.48 20.4388C25.4806 20.9736 25.4772 21.5082 25.4728 22.0429C25.4737 22.2 25.4746 22.357 25.4755 22.5189C25.4622 23.4905 25.3262 24.1741 24.7813 24.9843C24.0218 25.5988 23.4197 25.6718 22.4577 25.679C22.1974 25.6822 21.9371 25.6854 21.6689 25.6888C21.3863 25.689 21.1037 25.6891 20.8212 25.6889C20.5295 25.6903 20.2379 25.6919 19.9462 25.6936C19.3358 25.6963 18.7255 25.6966 18.115 25.6954C17.3348 25.6942 16.5547 25.7004 15.7745 25.7087C15.1724 25.7139 14.5704 25.7145 13.9683 25.7138C13.6807 25.7141 13.3931 25.716 13.1056 25.7197C10.5806 25.748 10.5806 25.748 9.79287 25.1291C8.98015 24.1318 8.88804 23.5968 8.91219 22.2929C8.91585 22.0363 8.91952 21.7797 8.92329 21.5153C8.92801 21.3194 8.93272 21.1236 8.93758 20.9218C8.63333 20.9282 8.63333 20.9282 8.32294 20.9347C7.56661 20.9494 6.81029 20.9587 6.05386 20.9664C5.72719 20.9705 5.40055 20.976 5.07394 20.9831C4.60295 20.993 4.13216 20.9976 3.66109 21.0011C3.51631 21.0053 3.37154 21.0095 3.22237 21.0138C2.18946 21.0143 1.59878 20.7733 0.812576 20.1093C0.555207 19.3372 0.576188 18.6107 0.573498 17.806C0.572163 17.6332 0.570828 17.4604 0.569453 17.2823C0.565448 16.7102 0.563077 16.1381 0.56105 15.566C0.560223 15.3706 0.559395 15.1752 0.558542 14.9739C0.554306 13.9402 0.5514 12.9064 0.549496 11.8727C0.547246 10.8046 0.540256 9.73664 0.532195 8.66859C0.526888 7.84749 0.525184 7.02641 0.524454 6.2053C0.523464 5.81154 0.5211 5.41779 0.517337 5.02405C0.512398 4.4731 0.512576 3.92238 0.513988 3.37141C0.511386 3.20888 0.508784 3.04634 0.506104 2.87888C0.513262 2.11288 0.579136 1.67227 0.996277 1.02064C1.60872 0.42881 1.94287 0.379517 2.77187 0.366989ZM1.42195 2.23429C1.32339 2.81804 1.28656 3.28039 1.29698 3.86246C1.29585 4.02344 1.29473 4.18441 1.29357 4.35027C1.29117 4.88074 1.2961 5.41087 1.30135 5.94132C1.30169 6.31087 1.30168 6.68043 1.30132 7.04998C1.30166 7.82385 1.30545 8.5976 1.31186 9.37144C1.31992 10.3625 1.32081 11.3535 1.31928 12.3446C1.31866 13.1075 1.32112 13.8704 1.32459 14.6333C1.32602 14.9987 1.32665 15.3641 1.32648 15.7295C1.32685 16.2406 1.33119 16.7514 1.33665 17.2624C1.33606 17.4129 1.33546 17.5634 1.33485 17.7184C1.34946 18.606 1.42538 19.2359 2.03133 19.9062C2.58163 20.0534 2.58163 20.0534 3.21928 20.0215C3.46324 20.0214 3.70719 20.0213 3.95854 20.0212C4.22199 20.016 4.48543 20.0107 4.75685 20.0053C5.02922 20.0035 5.3016 20.002 5.57398 20.001C6.29036 19.9971 7.00653 19.9871 7.72283 19.9759C8.45396 19.9655 9.18512 19.9609 9.91631 19.9558C11.3506 19.9449 12.7847 19.9275 14.2188 19.9062C13.9135 16.6173 13.5258 13.339 13.1211 10.0611C13.048 9.4682 12.9762 8.87516 12.9055 8.28197C12.8187 7.55399 12.7298 6.82629 12.6394 6.09875C12.5895 5.69354 12.5417 5.28808 12.494 4.88261C12.3366 3.63552 12.1959 2.52776 11.5782 1.42179C11.1176 1.19151 10.852 1.18833 10.3402 1.17949C10.1686 1.17623 9.99704 1.17296 9.82028 1.1696C9.03531 1.16057 8.25038 1.15223 7.46537 1.14755C7.05142 1.14419 6.63749 1.13865 6.22361 1.13089C5.62672 1.11976 5.0301 1.11532 4.43312 1.11234C4.24858 1.10774 4.06405 1.10313 3.87392 1.09839C3.70044 1.09897 3.52695 1.09955 3.34822 1.10014C3.19653 1.0985 3.04485 1.09686 2.88857 1.09517C2.16687 1.2928 1.87063 1.64529 1.42195 2.23429ZM13.4063 5.48429C13.5228 7.35244 13.6988 9.2024 13.9403 11.0583C13.9716 11.3044 14.0029 11.5504 14.0351 11.8039C14.1337 12.5793 14.2333 13.3546 14.3331 14.1298C14.4336 14.9116 14.5338 15.6934 14.6333 16.4753C14.6948 16.9591 14.757 17.4429 14.8197 17.9266C14.8476 18.1451 14.8754 18.3636 14.904 18.5887C14.9287 18.7799 14.9533 18.9712 14.9787 19.1682C15.1182 20.5857 15.1182 20.5857 14.8083 21.0602C14.654 21.2085 14.654 21.2085 14.4965 21.3598C14.3829 21.4711 14.2693 21.5823 14.1522 21.697C14.0317 21.8099 13.9113 21.9227 13.7872 22.039C13.6136 22.2083 13.6136 22.2083 13.4365 22.381C12.8752 22.9231 12.3029 23.436 11.694 23.9242C11.5218 24.073 11.3495 24.2217 11.172 24.3749C11.172 24.509 11.172 24.643 11.172 24.7812C12.717 24.7953 14.262 24.8061 15.807 24.8127C16.5245 24.8159 17.242 24.8202 17.9594 24.8271C18.7848 24.835 19.6101 24.838 20.4356 24.8407C20.8209 24.8454 20.8209 24.8454 21.2141 24.8502C21.4539 24.8503 21.6938 24.8503 21.9409 24.8503C22.1515 24.8517 22.3622 24.8531 22.5792 24.8544C23.2659 24.7673 23.6308 24.6024 24.172 24.1718C24.6547 23.3511 24.636 22.5116 24.6308 21.5839C24.6315 21.4289 24.6322 21.2739 24.6329 21.1141C24.6347 20.6036 24.6335 20.093 24.6322 19.5824C24.6324 19.2265 24.6328 18.8707 24.6333 18.5148C24.6339 17.7696 24.6331 17.0245 24.6312 16.2794C24.6289 15.3252 24.6302 14.371 24.6326 13.4168C24.6341 12.6822 24.6336 11.9475 24.6326 11.2128C24.6323 10.861 24.6326 10.5092 24.6336 10.1574C24.6346 9.66545 24.633 9.17352 24.6308 8.68153C24.6316 8.53672 24.6324 8.39192 24.6333 8.24273C24.6249 7.25241 24.4945 6.53245 23.9045 5.72983C23.439 5.39555 23.1313 5.4108 22.5611 5.41511C22.3578 5.41516 22.1545 5.4152 21.9451 5.41525C21.6165 5.41997 21.6165 5.41997 21.2814 5.42478C21.0568 5.42564 20.8323 5.42651 20.6009 5.42739C19.8827 5.43081 19.1646 5.43846 18.4464 5.4462C17.9598 5.44926 17.4733 5.45204 16.9868 5.45454C15.7933 5.46126 14.5998 5.47146 13.4063 5.48429ZM9.9532 20.9218C9.9532 21.8602 9.9532 22.7987 9.9532 23.7655C10.9523 23.7655 11.498 23.0164 12.1876 22.3437C12.6117 21.8812 13.0092 21.4083 13.4063 20.9218C12.2668 20.9218 11.1273 20.9218 9.9532 20.9218Z"
              fill="black"
            />
            <path
              d="M18.8906 11.1719C19.1588 11.1719 19.4269 11.1719 19.7031 11.1719C19.7031 11.507 19.7031 11.8422 19.7031 12.1875C20.7756 12.1875 21.8481 12.1875 22.9531 12.1875C22.9531 12.4556 22.9531 12.7237 22.9531 13C22.4169 13 21.8806 13 21.3281 13C21.3491 13.1843 21.37 13.3687 21.3916 13.5586C21.402 14.5703 20.9476 15.4129 20.5347 16.3167C20.274 16.8556 20.274 16.8556 20.3125 17.4688C21.318 17.8709 21.318 17.8709 22.3438 18.2812C22.2767 18.5494 22.2097 18.8175 22.1406 19.0938C21.0461 19.001 20.4421 18.857 19.5 18.2812C18.9228 18.3197 18.5173 18.5648 17.9893 18.8145C17.256 19.0975 16.9781 19.1333 16.25 18.8906C16.2873 18.5066 16.2873 18.5066 16.4531 18.0781C16.9173 17.8655 16.9173 17.8655 17.4814 17.7227C17.6681 17.6734 17.8548 17.6242 18.0472 17.5735C18.1915 17.5389 18.3357 17.5044 18.4844 17.4688C18.4134 17.341 18.3425 17.2132 18.2693 17.0815C17.675 15.9636 17.3359 15.0782 17.2656 13.8125C17.5338 13.8125 17.8019 13.8125 18.0781 13.8125C18.4133 14.6169 18.7484 15.4212 19.0938 16.25C19.5825 16.0628 19.5825 16.0628 19.7618 15.3605C19.8541 15.0779 19.9442 14.7945 20.0332 14.5107C20.1924 14.0122 20.3516 13.5137 20.5156 13C18.9069 13 17.2981 13 15.6406 13C15.6406 12.7319 15.6406 12.4638 15.6406 12.1875C16.7131 12.1875 17.7856 12.1875 18.8906 12.1875C18.8906 11.8523 18.8906 11.5172 18.8906 11.1719Z"
              fill="black"
            />
            <path
              d="M7.51562 6.70312C7.78375 6.70312 8.05188 6.70312 8.32812 6.70312C8.79828 7.66639 9.26472 8.63133 9.72783 9.598C9.88585 9.92652 10.0449 10.2546 10.2049 10.5821C10.4349 11.0533 10.6613 11.5262 10.887 11.9995C10.9592 12.1453 11.0313 12.2911 11.1056 12.4413C11.4846 13.2461 11.6798 13.7675 11.375 14.625C10.8344 14.4183 10.6021 14.2864 10.3054 13.7792C10.1203 13.3163 9.93514 12.8535 9.75 12.3906C8.54344 12.3906 7.33687 12.3906 6.09375 12.3906C5.75859 13.0609 5.42344 13.7312 5.07812 14.4219C4.81 14.4219 4.54188 14.4219 4.26562 14.4219C4.38178 13.4468 4.6814 12.6423 5.10352 11.7654C5.19704 11.5665 5.19704 11.5665 5.29246 11.3637C5.49044 10.9436 5.6905 10.5245 5.89062 10.1055C6.02512 9.82095 6.15948 9.53636 6.2937 9.25171C7.1841 7.36617 7.1841 7.36617 7.51562 6.70312ZM7.71875 8.53125C7.51516 8.96691 7.31211 9.40281 7.10938 9.83887C6.99626 10.0816 6.88314 10.3243 6.7666 10.5744C6.4862 11.0937 6.4862 11.0937 6.5 11.375C7.43844 11.375 8.37687 11.375 9.34375 11.375C8.94156 10.4366 8.53937 9.49813 8.125 8.53125C7.99094 8.53125 7.85687 8.53125 7.71875 8.53125Z"
              fill="black"
            />
          </g>
          <defs>
            <clipPath id="clip0_1327_1944">
              <rect width="26" height="26" fill="white" />
            </clipPath>
          </defs>
        </svg>
        <span className="sr-only">Toggle language</span>
      </DropdownMenuTrigger>
      <DropdownMenuContent align="end">
        {routing.locales.map((loc) => (
          <DropdownMenuItem
            key={loc}
            onClick={() => handleLocaleChange(loc)}
            className={cn(`cursor-pointer`, locale === loc ? 'bg-accent' : '')}
          >
            {localeNames[loc]}
          </DropdownMenuItem>
        ))}
      </DropdownMenuContent>
    </DropdownMenu>
  )
}
